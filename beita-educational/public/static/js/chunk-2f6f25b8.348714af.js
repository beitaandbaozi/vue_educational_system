(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f6f25b8"],{"0e44":function(t,e,i){t.exports=i.p+"static/img/logo.7a9810c4.png"},1276:function(t,e,i){"use strict";var n=i("d784"),s=i("44e7"),o=i("825a"),r=i("1d80"),a=i("4840"),l=i("8aa5"),c=i("50c4"),u=i("14c3"),h=i("9263"),d=i("d039"),p=[].push,f=Math.min,g=4294967295,m=!d((function(){return!RegExp(g,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(r(this)),o=void 0===i?g:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!s(t))return e.call(n,t,o);var a,l,c,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,m=new RegExp(t.source,d+"g");while(a=h.call(m,n)){if(l=m.lastIndex,l>f&&(u.push(n.slice(f,a.index)),a.length>1&&a.index<n.length&&p.apply(u,a.slice(1)),c=a[0].length,f=l,u.length>=o))break;m.lastIndex===a.index&&m.lastIndex++}return f===n.length?!c&&m.test("")||u.push(""):u.push(n.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var s=r(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,s,i):n.call(String(s),e,i)},function(t,s){var r=i(n,t,this,s,n!==e);if(r.done)return r.value;var h=o(t),d=String(this),p=a(h,RegExp),v=h.unicode,w=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),y=new p(m?h:"^(?:"+h.source+")",w),b=void 0===s?g:s>>>0;if(0===b)return[];if(0===d.length)return null===u(y,d)?[d]:[];var x=0,C=0,k=[];while(C<d.length){y.lastIndex=m?C:0;var F,I=u(y,m?d:d.slice(C));if(null===I||(F=f(c(y.lastIndex+(m?0:C)),d.length))===x)C=l(d,C,v);else{if(k.push(d.slice(x,C)),k.length===b)return k;for(var O=1;O<=I.length-1;O++)if(k.push(I[O]),k.length===b)return k;C=x=F}}return k.push(d.slice(x)),k}]}),!m)},2017:function(t,e,i){"use strict";i("cafe")},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),s=i("23cb"),o=i("50c4");t.exports=function(t){var e=n(this),i=o(e.length),r=arguments.length,a=s(r>1?arguments[1]:void 0,i),l=r>2?arguments[2]:void 0,c=void 0===l?i:s(l,i);while(c>a)e[a++]=t;return e}},"9ed6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-container"},[t._m(0),i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[i("div",{staticClass:"title-container"},[i("h3",{staticClass:"title"},[t._v("HOME SEIG")])]),i("el-form-item",{attrs:{prop:"username",size:"mini"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"user"}})],1),i("el-input",{ref:"username",attrs:{placeholder:"学号或教师号（管理员账号为admin）",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),i("el-form-item",{attrs:{prop:"password",size:"mini"}},[i("span",{staticClass:"svg-container"},[i("svg-icon",{attrs:{"icon-class":"password"}})],1),i("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),i("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[i("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1),i("el-form-item",{staticClass:"verifyCodeItemCss",attrs:{prop:"verifyCode",size:"mini"}},[i("el-row",{attrs:{span:24}},[i("el-col",{attrs:{span:14}},[i("el-input",{staticClass:"verify_css",attrs:{placeholder:"请输入4位验证码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("ruleForm")}},model:{value:t.loginForm.verifyCode,callback:function(e){t.$set(t.loginForm,"verifyCode",e)},expression:"loginForm.verifyCode"}})],1),i("el-col",{attrs:{span:10}},[i("div",{attrs:{id:"v_container"}})])],1)],1),i("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登录")])],1)],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:i("0e44"),alt:"logo"}})])}],o=i("1da1"),r=i("5530"),a=(i("96cf"),i("61f7"),i("2f62"));i("d3b7"),i("ac1f"),i("1276"),i("99af"),i("cb29");function l(t){if(this.options={id:"",canvasId:"verifyCanvas",width:"80",height:"30",type:"number",code:""},"[object Object]"===Object.prototype.toString.call(t))for(var e in t)this.options[e]=t[e];else this.options.id=t;this.options.numArr="0,1,2,3,4,5,6,7,8,9".split(","),this.options.letterArr=c(),this._init(),this.refresh()}function c(){var t="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z";return t.split(",")}function u(t,e){return Math.floor(Math.random()*(e-t)+t)}function h(t,e){var i=u(t,e),n=u(t,e),s=u(t,e);return"rgb("+i+","+n+","+s+")"}l.prototype={version:"1.0.0",_init:function(){var t=document.getElementById(this.options.id),e=document.createElement("canvas");this.options.width="160",this.options.height="40",e.id=this.options.canvasId,e.width=this.options.width,e.height=this.options.height,e.style.cursor="pointer",e.innerHTML="您的浏览器版本不支持canvas",t.appendChild(e);var i=this;e.onclick=function(){i.refresh()}},refresh:function(){var t=document.getElementById(this.options.canvasId);if(t.getContext)var e=t.getContext("2d");if(e.textBaseline="middle",e.fillStyle=h(180,240),e.fillRect(0,0,this.options.width,this.options.height),"blend"===this.options.type)var i=this.options.numArr.concat(this.options.letterArr);else if("number"===this.options.type)i=this.options.numArr;else i=this.options.letterArr;for(var n=1;n<=4;n++){var s=i[u(0,i.length)];this.options.code+=s,e.font=u(this.options.height/2,this.options.height)+"px SimHei",e.fillStyle=h(50,160),e.shadowOffsetX=u(-3,3),e.shadowOffsetY=u(-3,3),e.shadowBlur=u(-3,3),e.shadowColor="rgba(0, 0, 0, 0.3)";var o=this.options.width/5*n,r=this.options.height/2,a=u(-30,30);e.translate(o,r),e.rotate(a*Math.PI/180),e.fillText(s,0,0),e.rotate(-a*Math.PI/180),e.translate(-o,-r)}for(n=0;n<4;n++)e.strokeStyle=h(40,180),e.beginPath(),e.moveTo(u(0,this.options.width),u(0,this.options.height)),e.lineTo(u(0,this.options.width),u(0,this.options.height)),e.stroke();for(n=0;n<this.options.width/4;n++)e.fillStyle=h(0,255),e.beginPath(),e.arc(u(0,this.options.width),u(0,this.options.height),1,0,2*Math.PI),e.fill()},validate:function(t){t=t.toLowerCase();var e=this.options.code.toLowerCase();return t==e}};var d=i("5f72"),p={name:"Login",data:function(){return{loginForm:{username:"1840916216",password:"203036416",verifyCode:""},loginRules:{username:[{required:!0,message:"请输入学号或教师号（管理员账号为admin）",trigger:"blur"},{min:4,max:10,message:"长度在 4 到 5 个字符！",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码至少为6位！",trigger:"blur"}],verifyCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){this.verifyCode=new l("v_container")},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["user/login"])),{},{showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this,e=this.loginForm.verifyCode,i=this.verifyCode.validate(e);i?this.$refs.loginForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=14;break}return e.prev=1,t.loading=!0,e.next=5,t["user/login"](t.loginForm);case 5:window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:return e.prev=11,t.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()):d["Message"].error("验证码错误！")}})},f=p,g=(i("2017"),i("ba8c"),i("2877")),m=Object(g["a"])(f,n,s,!1,null,"736bc877",null);e["default"]=m.exports},b05e:function(t,e,i){},ba8c:function(t,e,i){"use strict";i("b05e")},cafe:function(t,e,i){},cb29:function(t,e,i){var n=i("23e7"),s=i("81d5"),o=i("44d2");n({target:"Array",proto:!0},{fill:s}),o("fill")}}]);